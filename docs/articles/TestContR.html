<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TestContR • TestContR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="TestContR">
<meta property="og:description" content="TestContR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TestContR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.004</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/TestContR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="TestContR_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>TestContR</h1>
                        <h4 class="author">Alfredo G Marquez</h4>
            
            <h4 class="date">2020-07-28</h4>
      
      
      <div class="hidden name"><code>TestContR.Rmd</code></div>

    </div>

    
    
<p>Before you use this package you need to answer the following 2 questions:</p>
<ol style="list-style-type: decimal">
<li>Do I want a randomized list of individuals or do I want the Top N observations for a list of individuals that I already have?</li>
</ol>
<ul>
<li>If randomized, then use a match_* function.</li>
<li>if top n, then use a top_n* function.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Do you have data with only numeric variables, or does your data have both numeric and categorical?</li>
</ol>
<ul>
<li>If numeric, then use a *_numeric function.</li>
<li>If mixed, then use a *_mixed function.</li>
</ul>
<p>So your choices for how you want to proceed are listed below:</p>
<ul>
<li>match_numeric(): randomized output, numeric input.</li>
<li>match_mixed(): randomized output, mixed input.</li>
<li>topn_numeric(): list of top n matches for output, numeric input.</li>
<li>topn_mixed(): list of top n matches for output, mixed input.</li>
</ul>
<div id="randomized-sample-match_-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#randomized-sample-match_-functions" class="anchor"></a>Randomized Sample, match_* functions</h2>
<p>R contains a crime data set for the all 50 states. This data set contains data on murder rates, assaults, urban population and the occurrences of rape. The TestContR can be used to match states that have similar crime rates.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">TestContR</span>)</pre></body></html></div>
<div id="match_numeric-random-selection-of-test-and-control-groupsindividuals-for-numeric-metricsvariables-" class="section level3">
<h3 class="hasAnchor">
<a href="#match_numeric-random-selection-of-test-and-control-groupsindividuals-for-numeric-metricsvariables-" class="anchor"></a>match_numeric(): Random selection of test and control groups/individuals for numeric metrics/variables.</h3>
<p><strong>Numeric only dataframe:</strong></p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">df</span> <span class="kw">&lt;-</span> <span class="kw pkg">datasets</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/r/datasets/USArrests.html">USArrests</a></span> <span class="kw">%&gt;%</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">state</span> <span class="kw">=</span> <span class="kw pkg">base</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html">row.names</a></span>(<span class="no">USArrests</span>)) <span class="kw">%&gt;%</span>
                               <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">state</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">everything</a></span>())</pre></body></html></div>
<p><strong>Expected data set format with individuals/labels/names/id in the first column:</strong></p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">df</span>, <span class="kw">n</span> <span class="kw">=</span> <span class="fl">10</span>))</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">state</th>
<th align="right">Murder</th>
<th align="right">Assault</th>
<th align="right">UrbanPop</th>
<th align="right">Rape</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Alabama</td>
<td align="right">13.2</td>
<td align="right">236</td>
<td align="right">58</td>
<td align="right">21.2</td>
</tr>
<tr class="even">
<td align="left">Alaska</td>
<td align="right">10.0</td>
<td align="right">263</td>
<td align="right">48</td>
<td align="right">44.5</td>
</tr>
<tr class="odd">
<td align="left">Arizona</td>
<td align="right">8.1</td>
<td align="right">294</td>
<td align="right">80</td>
<td align="right">31.0</td>
</tr>
<tr class="even">
<td align="left">Arkansas</td>
<td align="right">8.8</td>
<td align="right">190</td>
<td align="right">50</td>
<td align="right">19.5</td>
</tr>
<tr class="odd">
<td align="left">California</td>
<td align="right">9.0</td>
<td align="right">276</td>
<td align="right">91</td>
<td align="right">40.6</td>
</tr>
<tr class="even">
<td align="left">Colorado</td>
<td align="right">7.9</td>
<td align="right">204</td>
<td align="right">78</td>
<td align="right">38.7</td>
</tr>
<tr class="odd">
<td align="left">Connecticut</td>
<td align="right">3.3</td>
<td align="right">110</td>
<td align="right">77</td>
<td align="right">11.1</td>
</tr>
<tr class="even">
<td align="left">Delaware</td>
<td align="right">5.9</td>
<td align="right">238</td>
<td align="right">72</td>
<td align="right">15.8</td>
</tr>
<tr class="odd">
<td align="left">Florida</td>
<td align="right">15.4</td>
<td align="right">335</td>
<td align="right">80</td>
<td align="right">31.9</td>
</tr>
<tr class="even">
<td align="left">Georgia</td>
<td align="right">17.4</td>
<td align="right">211</td>
<td align="right">60</td>
<td align="right">25.8</td>
</tr>
</tbody>
</table>
<p><strong>Build Test and Control list:</strong></p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="co"># defaults to 10 obs for the test group with matching controls. Change the size of the test group w/ param "n".</span>

<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">99</span>)
<span class="no">TEST_CONTROL_LIST</span> <span class="kw">&lt;-</span> <span class="kw pkg">TestContR</span><span class="kw ns">::</span><span class="fu"><a href="../reference/match_numeric.html">match_numeric</a></span>(<span class="no">df</span>)
<span class="co">#&gt; [1] "The 1th de-duping iteration started"</span>
<span class="co">#&gt; Joining, by = "CONTROL"</span>
<span class="co">#&gt; Joining, by = c("CONTROL", "TEST", "DIST_Q", "GROUP")</span>
<span class="co">#&gt; [1] "The 1th de-duping iteration complete."</span></pre></body></html></div>
<p><strong>Results of random selection option:</strong></p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="no">TEST_CONTROL_LIST</span>)</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">CONTROL</th>
<th align="left">TEST</th>
<th align="right">DIST_Q</th>
<th align="right">GROUP</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Texas</td>
<td align="left">Illinois</td>
<td align="right">0.8241352</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">New Mexico</td>
<td align="left">Michigan</td>
<td align="right">0.5782474</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Arizona</td>
<td align="left">New York</td>
<td align="right">1.0725219</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">South Carolina</td>
<td align="left">North Carolina</td>
<td align="right">1.0476313</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Maine</td>
<td align="left">North Dakota</td>
<td align="right">0.7305609</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Oklahoma</td>
<td align="left">Ohio</td>
<td align="right">0.6483903</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">Kansas</td>
<td align="left">Pennsylvania</td>
<td align="right">0.5456840</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">Alabama</td>
<td align="left">Tennessee</td>
<td align="right">0.8407489</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Washington</td>
<td align="left">Utah</td>
<td align="right">0.6940667</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">South Dakota</td>
<td align="left">West Virginia</td>
<td align="right">0.7108812</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
<p><br></p>
<div id="providing-a-list-of-test-groupsindividuals-no-randomization-of-the-test-group" class="section level4">
<h4 class="hasAnchor">
<a href="#providing-a-list-of-test-groupsindividuals-no-randomization-of-the-test-group" class="anchor"></a>Providing a list of Test Groups/Individuals (No randomization of the test group)</h4>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">TEST_GRP</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tribble</a></span>(~<span class="st">'TEST'</span>,<span class="st">'Colorado'</span>,<span class="st">'Minnesota'</span>,<span class="st">'Florida'</span>,<span class="st">'South Carolina'</span>)</pre></body></html></div>
<p><strong>Example of data frame for the “test_list” input parameter:</strong></p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="no">TEST_GRP</span>)</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">TEST</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Colorado</td>
</tr>
<tr class="even">
<td align="left">Minnesota</td>
</tr>
<tr class="odd">
<td align="left">Florida</td>
</tr>
<tr class="even">
<td align="left">South Carolina</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">99</span>)
<span class="no">TEST_CONTROL_LIST</span> <span class="kw">&lt;-</span> <span class="kw pkg">TestContR</span><span class="kw ns">::</span><span class="fu"><a href="../reference/match_numeric.html">match_numeric</a></span>(<span class="no">df</span>, <span class="kw">test_list</span> <span class="kw">=</span> <span class="no">TEST_GRP</span>)</pre></body></html></div>
<p><strong>Results for the “test_list” input parameter:</strong></p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="no">TEST_CONTROL_LIST</span>)</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">CONTROL</th>
<th align="left">TEST</th>
<th align="right">DIST_Q</th>
<th align="right">GROUP</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Michigan</td>
<td align="left">Colorado</td>
<td align="right">1.2363108</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">New Mexico</td>
<td align="left">Florida</td>
<td align="right">1.2965798</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Wisconsin</td>
<td align="left">Minnesota</td>
<td align="right">0.4940832</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Mississippi</td>
<td align="left">South Carolina</td>
<td align="right">0.7865674</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="match_mixed-random-selection-of-test-and-control-groupsindividuals-with-mixed-metricsvariables-meaning-both-numeric-and-categorical-" class="section level3">
<h3 class="hasAnchor">
<a href="#match_mixed-random-selection-of-test-and-control-groupsindividuals-with-mixed-metricsvariables-meaning-both-numeric-and-categorical-" class="anchor"></a>match_mixed(): Random selection of test and control groups/individuals with mixed metrics/variables, meaning both numeric and categorical.</h3>
<p><strong>Numeric and categorical dataframe:</strong></p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">df</span> <span class="kw">&lt;-</span> <span class="kw pkg">datasets</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/r/datasets/USArrests.html">USArrests</a></span> <span class="kw">%&gt;%</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">state</span> <span class="kw">=</span> <span class="kw pkg">base</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html">row.names</a></span>(<span class="kw pkg">datasets</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/r/datasets/USArrests.html">USArrests</a></span>)) <span class="kw">%&gt;%</span>
  <span class="kw pkg">base</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span>(<span class="kw pkg">datasets</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/r/datasets/state.html">state.division</a></span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">state</span>, <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">everything</a></span>())</pre></body></html></div>
<p><strong>Expected data set format with individuals/labels/names/id in the first column:</strong></p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">df</span>, <span class="kw">n</span> <span class="kw">=</span> <span class="fl">10</span>))</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">state</th>
<th align="right">Murder</th>
<th align="right">Assault</th>
<th align="right">UrbanPop</th>
<th align="right">Rape</th>
<th align="left">datasets::state.division</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Alabama</td>
<td align="right">13.2</td>
<td align="right">236</td>
<td align="right">58</td>
<td align="right">21.2</td>
<td align="left">East South Central</td>
</tr>
<tr class="even">
<td align="left">Alaska</td>
<td align="right">10.0</td>
<td align="right">263</td>
<td align="right">48</td>
<td align="right">44.5</td>
<td align="left">Pacific</td>
</tr>
<tr class="odd">
<td align="left">Arizona</td>
<td align="right">8.1</td>
<td align="right">294</td>
<td align="right">80</td>
<td align="right">31.0</td>
<td align="left">Mountain</td>
</tr>
<tr class="even">
<td align="left">Arkansas</td>
<td align="right">8.8</td>
<td align="right">190</td>
<td align="right">50</td>
<td align="right">19.5</td>
<td align="left">West South Central</td>
</tr>
<tr class="odd">
<td align="left">California</td>
<td align="right">9.0</td>
<td align="right">276</td>
<td align="right">91</td>
<td align="right">40.6</td>
<td align="left">Pacific</td>
</tr>
<tr class="even">
<td align="left">Colorado</td>
<td align="right">7.9</td>
<td align="right">204</td>
<td align="right">78</td>
<td align="right">38.7</td>
<td align="left">Mountain</td>
</tr>
<tr class="odd">
<td align="left">Connecticut</td>
<td align="right">3.3</td>
<td align="right">110</td>
<td align="right">77</td>
<td align="right">11.1</td>
<td align="left">New England</td>
</tr>
<tr class="even">
<td align="left">Delaware</td>
<td align="right">5.9</td>
<td align="right">238</td>
<td align="right">72</td>
<td align="right">15.8</td>
<td align="left">South Atlantic</td>
</tr>
<tr class="odd">
<td align="left">Florida</td>
<td align="right">15.4</td>
<td align="right">335</td>
<td align="right">80</td>
<td align="right">31.9</td>
<td align="left">South Atlantic</td>
</tr>
<tr class="even">
<td align="left">Georgia</td>
<td align="right">17.4</td>
<td align="right">211</td>
<td align="right">60</td>
<td align="right">25.8</td>
<td align="left">South Atlantic</td>
</tr>
</tbody>
</table>
<p><strong>Build Test and Control list from mixed metrics:</strong></p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="co"># defaults to 10 obs for the test group with matching controls. Change the size of the test group w/ param "n".</span>

<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">99</span>)
<span class="no">TEST_CONTROL_LIST</span> <span class="kw">&lt;-</span> <span class="kw pkg">TestContR</span><span class="kw ns">::</span><span class="fu"><a href="../reference/match_mixed.html">match_mixed</a></span>(<span class="no">df</span>)
<span class="co">#&gt; [1] "The 1th de-duping iteration started"</span>
<span class="co">#&gt; Joining, by = "CONTROL"</span>
<span class="co">#&gt; Joining, by = c("CONTROL", "TEST", "DIST_Q", "GROUP")</span>
<span class="co">#&gt; [1] "The 1th de-duping iteration complete."</span>
<span class="co">#&gt; [1] "The 2th de-duping iteration started"</span>
<span class="co">#&gt; Joining, by = "CONTROL"</span>
<span class="co">#&gt; Joining, by = c("CONTROL", "TEST", "DIST_Q", "GROUP")</span>
<span class="co">#&gt; [1] "The 2th de-duping iteration complete."</span></pre></body></html></div>
<p><strong>Results of random selection option:</strong></p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="no">TEST_CONTROL_LIST</span>)</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">CONTROL</th>
<th align="left">TEST</th>
<th align="right">DIST_Q</th>
<th align="right">GROUP</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Texas</td>
<td align="left">Illinois</td>
<td align="right">0.2785090</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">New Mexico</td>
<td align="left">Michigan</td>
<td align="right">0.2580449</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Maryland</td>
<td align="left">New York</td>
<td align="right">0.3071088</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">South Carolina</td>
<td align="left">North Carolina</td>
<td align="right">0.0998379</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Iowa</td>
<td align="left">North Dakota</td>
<td align="right">0.0891413</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Indiana</td>
<td align="left">Ohio</td>
<td align="right">0.0419648</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">New Jersey</td>
<td align="left">Pennsylvania</td>
<td align="right">0.1273365</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">Alabama</td>
<td align="left">Tennessee</td>
<td align="right">0.0657239</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Idaho</td>
<td align="left">Utah</td>
<td align="right">0.1403257</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">Virginia</td>
<td align="left">West Virginia</td>
<td align="right">0.2253755</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
<hr>
<div id="providing-a-list-of-test-groupsindividuals-no-randomization-of-the-test-group-1" class="section level4">
<h4 class="hasAnchor">
<a href="#providing-a-list-of-test-groupsindividuals-no-randomization-of-the-test-group-1" class="anchor"></a>Providing a list of Test Groups/Individuals (No randomization of the test group)</h4>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="no">TEST_GRP</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tribble</a></span>(~<span class="st">'TEST'</span>,<span class="st">'Colorado'</span>,<span class="st">'Minnesota'</span>,<span class="st">'Florida'</span>,<span class="st">'South Carolina'</span>)</pre></body></html></div>
<p><strong>Example of data frame for the “test_list” input parameter:</strong></p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="no">TEST_GRP</span>)</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">TEST</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Colorado</td>
</tr>
<tr class="even">
<td align="left">Minnesota</td>
</tr>
<tr class="odd">
<td align="left">Florida</td>
</tr>
<tr class="even">
<td align="left">South Carolina</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">99</span>)
<span class="no">TEST_CONTROL_LIST</span> <span class="kw">&lt;-</span> <span class="kw pkg">TestContR</span><span class="kw ns">::</span><span class="fu"><a href="../reference/match_mixed.html">match_mixed</a></span>(<span class="no">df</span>, <span class="kw">test_list</span> <span class="kw">=</span> <span class="no">TEST_GRP</span>)</pre></body></html></div>
<p><strong>Results for the “test_list” input parameter:</strong></p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="no">TEST_CONTROL_LIST</span>)</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">CONTROL</th>
<th align="left">TEST</th>
<th align="right">DIST_Q</th>
<th align="right">GROUP</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Arizona</td>
<td align="left">Colorado</td>
<td align="right">0.1106264</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Maryland</td>
<td align="left">Florida</td>
<td align="right">0.1386266</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Nebraska</td>
<td align="left">Minnesota</td>
<td align="right">0.0616531</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">North Carolina</td>
<td align="left">South Carolina</td>
<td align="right">0.0998379</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
<hr>
<hr>
</div>
</div>
</div>
<div id="top-n-matches-for-individuals-or-groups-the-topn_-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#top-n-matches-for-individuals-or-groups-the-topn_-functions" class="anchor"></a>Top N matches for individuals or groups, the topn_* functions</h2>
<ul>
<li>
<strong>NOTE:</strong> You can provide more than one group to the topn_* functions, but the function does not remove duplicates in the control list for the more than 1 group or individual. <strong>WARNING</strong> Because of this, if you provide topn_* functions with a full dataset of size M with a function parameter “n” ~ M and no “test_list”, then you will get an Mx~M matrix, where n is the function parameter that determines the size of the list of matches. For the topn_mixed function this may take a very long time to complete. In other words, you should be selective of the size of Top N matches you want to create and it highly advised to use the “test_list” parameter when possible. More on this below.</li>
</ul>
<div id="topn_numeric-select-top-n-controls-for-a-set-of-groups-or-individuals" class="section level3">
<h3 class="hasAnchor">
<a href="#topn_numeric-select-top-n-controls-for-a-set-of-groups-or-individuals" class="anchor"></a>topn_numeric(): Select Top N Controls for a set of groups or individuals</h3>
<p><strong>Build/provide a list of the obs of interest in the test_list:</strong></p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="no">test_list</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tribble</a></span>(~<span class="st">"TEST"</span>,<span class="st">"Colorado"</span>)</pre></body></html></div>
<p><strong>Numeric only dataframe:</strong></p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="no">df</span> <span class="kw">&lt;-</span> <span class="kw pkg">datasets</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/r/datasets/USArrests.html">USArrests</a></span> <span class="kw">%&gt;%</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">state</span> <span class="kw">=</span> <span class="kw pkg">base</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html">row.names</a></span>(<span class="no">USArrests</span>)) <span class="kw">%&gt;%</span>
                               <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">state</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">everything</a></span>())</pre></body></html></div>
<p><strong>Expected data set format with individuals/labels/names/id in the first column:</strong></p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">df</span>, <span class="kw">n</span> <span class="kw">=</span> <span class="fl">10</span>))</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">state</th>
<th align="right">Murder</th>
<th align="right">Assault</th>
<th align="right">UrbanPop</th>
<th align="right">Rape</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Alabama</td>
<td align="right">13.2</td>
<td align="right">236</td>
<td align="right">58</td>
<td align="right">21.2</td>
</tr>
<tr class="even">
<td align="left">Alaska</td>
<td align="right">10.0</td>
<td align="right">263</td>
<td align="right">48</td>
<td align="right">44.5</td>
</tr>
<tr class="odd">
<td align="left">Arizona</td>
<td align="right">8.1</td>
<td align="right">294</td>
<td align="right">80</td>
<td align="right">31.0</td>
</tr>
<tr class="even">
<td align="left">Arkansas</td>
<td align="right">8.8</td>
<td align="right">190</td>
<td align="right">50</td>
<td align="right">19.5</td>
</tr>
<tr class="odd">
<td align="left">California</td>
<td align="right">9.0</td>
<td align="right">276</td>
<td align="right">91</td>
<td align="right">40.6</td>
</tr>
<tr class="even">
<td align="left">Colorado</td>
<td align="right">7.9</td>
<td align="right">204</td>
<td align="right">78</td>
<td align="right">38.7</td>
</tr>
<tr class="odd">
<td align="left">Connecticut</td>
<td align="right">3.3</td>
<td align="right">110</td>
<td align="right">77</td>
<td align="right">11.1</td>
</tr>
<tr class="even">
<td align="left">Delaware</td>
<td align="right">5.9</td>
<td align="right">238</td>
<td align="right">72</td>
<td align="right">15.8</td>
</tr>
<tr class="odd">
<td align="left">Florida</td>
<td align="right">15.4</td>
<td align="right">335</td>
<td align="right">80</td>
<td align="right">31.9</td>
</tr>
<tr class="even">
<td align="left">Georgia</td>
<td align="right">17.4</td>
<td align="right">211</td>
<td align="right">60</td>
<td align="right">25.8</td>
</tr>
</tbody>
</table>
<p><strong>Build the list of Top N matches: </strong> Provide the test_list dataframe to the test_list parameter in the function as below.</p>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="no">TOPN_CONTROL_LIST</span> <span class="kw">&lt;-</span> <span class="kw pkg">TestContR</span><span class="kw ns">::</span><span class="fu"><a href="../reference/topn_numeric.html">topn_numeric</a></span>(<span class="no">df</span>, <span class="kw">topN</span> <span class="kw">=</span> <span class="fl">10</span>, <span class="kw">test_list</span> <span class="kw">=</span> <span class="no">test_list</span>)</pre></body></html></div>
<p><strong>Results of Top N selection option:</strong></p>
<div class="sourceCode" id="cb22"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">TOPN_CONTROL_LIST</span>,<span class="fl">20</span>))</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">CONTROL</th>
<th align="left">TEST</th>
<th align="right">DIST_Q</th>
<th align="right">DIST_RANK</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Michigan</td>
<td align="left">Colorado</td>
<td align="right">1.236311</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">California</td>
<td align="left">Colorado</td>
<td align="right">1.287618</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Missouri</td>
<td align="left">Colorado</td>
<td align="right">1.312741</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Arizona</td>
<td align="left">Colorado</td>
<td align="right">1.365031</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Nevada</td>
<td align="left">Colorado</td>
<td align="right">1.398859</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Oregon</td>
<td align="left">Colorado</td>
<td align="right">1.533198</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">New Mexico</td>
<td align="left">Colorado</td>
<td align="right">1.546744</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">New York</td>
<td align="left">Colorado</td>
<td align="right">1.736339</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Washington</td>
<td align="left">Colorado</td>
<td align="right">1.789792</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">Illinois</td>
<td align="left">Colorado</td>
<td align="right">1.789832</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
<p><strong>Top N without a Test List: </strong> Don’t be concerned about the warning; I just wanted to let users know that it would use all the labels in the dataframe.</p>
<div class="sourceCode" id="cb23"><html><body><pre class="r"><span class="no">TOPN_CONTROL_LIST</span> <span class="kw">&lt;-</span> <span class="kw pkg">TestContR</span><span class="kw ns">::</span><span class="fu"><a href="../reference/topn_numeric.html">topn_numeric</a></span>(<span class="no">df</span>, <span class="kw">topN</span> <span class="kw">=</span> <span class="fl">10</span>)
<span class="co">#&gt; Warning in TestContR::topn_numeric(df, topN = 10): If no dataframe provided for the "test_list" parameter, will use all the labels in the dataset.  Otherwise, please provide a dataframe for the "test_list" parameter with 1, or N, Test group(s) or individual(s) label(s) in a column named "TEST."</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;       See documentation for topn_numeric's test_list parameter</span></pre></body></html></div>
<p><strong>Results of Top N selection without Test List:</strong></p>
<div class="sourceCode" id="cb24"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">TOPN_CONTROL_LIST</span>,<span class="fl">20</span>))</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">CONTROL</th>
<th align="left">TEST</th>
<th align="right">DIST_Q</th>
<th align="right">DIST_RANK</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Louisiana</td>
<td align="left">Alabama</td>
<td align="right">0.7722224</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Tennessee</td>
<td align="left">Alabama</td>
<td align="right">0.8407489</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">South Carolina</td>
<td align="left">Alabama</td>
<td align="right">0.9157968</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Georgia</td>
<td align="left">Alabama</td>
<td align="right">1.1314351</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Mississippi</td>
<td align="left">Alabama</td>
<td align="right">1.2831907</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Maryland</td>
<td align="left">Alabama</td>
<td align="right">1.2896460</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">Arkansas</td>
<td align="left">Alabama</td>
<td align="right">1.2898102</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">Virginia</td>
<td align="left">Alabama</td>
<td align="right">1.4859733</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">New Mexico</td>
<td align="left">Alabama</td>
<td align="right">1.5993970</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">North Carolina</td>
<td align="left">Alabama</td>
<td align="right">1.6043662</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">New Mexico</td>
<td align="left">Alaska</td>
<td align="right">2.0580889</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Michigan</td>
<td align="left">Alaska</td>
<td align="right">2.1154937</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Maryland</td>
<td align="left">Alaska</td>
<td align="right">2.2777590</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Colorado</td>
<td align="left">Alaska</td>
<td align="right">2.3265187</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Tennessee</td>
<td align="left">Alaska</td>
<td align="right">2.3362541</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Nevada</td>
<td align="left">Alaska</td>
<td align="right">2.3443182</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">Missouri</td>
<td align="left">Alaska</td>
<td align="right">2.5360573</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">South Carolina</td>
<td align="left">Alaska</td>
<td align="right">2.5640542</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Oregon</td>
<td align="left">Alaska</td>
<td align="right">2.6990696</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">Arizona</td>
<td align="left">Alaska</td>
<td align="right">2.7006429</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
<div id="topn_mixed-random-selection-of-test-and-control-groupsindividuals-with-mixed-metrics" class="section level3">
<h3 class="hasAnchor">
<a href="#topn_mixed-random-selection-of-test-and-control-groupsindividuals-with-mixed-metrics" class="anchor"></a>topN_mixed(): Random selection of test and control groups/individuals with mixed metrics/</h3>
<p><strong>Numeric and categorical dataframe:</strong></p>
<div class="sourceCode" id="cb25"><html><body><pre class="r"><span class="no">df</span> <span class="kw">&lt;-</span> <span class="kw pkg">datasets</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/r/datasets/USArrests.html">USArrests</a></span> <span class="kw">%&gt;%</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">state</span> <span class="kw">=</span> <span class="kw pkg">base</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html">row.names</a></span>(<span class="kw pkg">datasets</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/r/datasets/USArrests.html">USArrests</a></span>)) <span class="kw">%&gt;%</span>
  <span class="kw pkg">base</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span>(<span class="kw pkg">datasets</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/r/datasets/state.html">state.division</a></span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">state</span>, <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">everything</a></span>())</pre></body></html></div>
<p><strong>Expected data set format with individuals/labels/names/id in the first column:</strong></p>
<div class="sourceCode" id="cb26"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">df</span>, <span class="kw">n</span> <span class="kw">=</span> <span class="fl">10</span>))</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">state</th>
<th align="right">Murder</th>
<th align="right">Assault</th>
<th align="right">UrbanPop</th>
<th align="right">Rape</th>
<th align="left">datasets::state.division</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Alabama</td>
<td align="right">13.2</td>
<td align="right">236</td>
<td align="right">58</td>
<td align="right">21.2</td>
<td align="left">East South Central</td>
</tr>
<tr class="even">
<td align="left">Alaska</td>
<td align="right">10.0</td>
<td align="right">263</td>
<td align="right">48</td>
<td align="right">44.5</td>
<td align="left">Pacific</td>
</tr>
<tr class="odd">
<td align="left">Arizona</td>
<td align="right">8.1</td>
<td align="right">294</td>
<td align="right">80</td>
<td align="right">31.0</td>
<td align="left">Mountain</td>
</tr>
<tr class="even">
<td align="left">Arkansas</td>
<td align="right">8.8</td>
<td align="right">190</td>
<td align="right">50</td>
<td align="right">19.5</td>
<td align="left">West South Central</td>
</tr>
<tr class="odd">
<td align="left">California</td>
<td align="right">9.0</td>
<td align="right">276</td>
<td align="right">91</td>
<td align="right">40.6</td>
<td align="left">Pacific</td>
</tr>
<tr class="even">
<td align="left">Colorado</td>
<td align="right">7.9</td>
<td align="right">204</td>
<td align="right">78</td>
<td align="right">38.7</td>
<td align="left">Mountain</td>
</tr>
<tr class="odd">
<td align="left">Connecticut</td>
<td align="right">3.3</td>
<td align="right">110</td>
<td align="right">77</td>
<td align="right">11.1</td>
<td align="left">New England</td>
</tr>
<tr class="even">
<td align="left">Delaware</td>
<td align="right">5.9</td>
<td align="right">238</td>
<td align="right">72</td>
<td align="right">15.8</td>
<td align="left">South Atlantic</td>
</tr>
<tr class="odd">
<td align="left">Florida</td>
<td align="right">15.4</td>
<td align="right">335</td>
<td align="right">80</td>
<td align="right">31.9</td>
<td align="left">South Atlantic</td>
</tr>
<tr class="even">
<td align="left">Georgia</td>
<td align="right">17.4</td>
<td align="right">211</td>
<td align="right">60</td>
<td align="right">25.8</td>
<td align="left">South Atlantic</td>
</tr>
</tbody>
</table>
<p><strong>Build Test and Control list from mixed metrics:</strong></p>
<div class="sourceCode" id="cb27"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">99</span>)
<span class="no">TOPN_CONTROL_LIST</span> <span class="kw">&lt;-</span> <span class="kw pkg">TestContR</span><span class="kw ns">::</span><span class="fu"><a href="../reference/topn_mixed.html">topn_mixed</a></span>(<span class="no">df</span>, <span class="kw">topN</span> <span class="kw">=</span> <span class="fl">10</span>, <span class="kw">test_list</span> <span class="kw">=</span> <span class="no">test_list</span>)</pre></body></html></div>
<p><strong>Results of Top N selection without Test List:</strong></p>
<div class="sourceCode" id="cb28"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">TOPN_CONTROL_LIST</span>,<span class="fl">20</span>))</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">CONTROL</th>
<th align="left">TEST</th>
<th align="right">DIST_Q</th>
<th align="right">DIST_RANK</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Arizona</td>
<td align="left">Colorado</td>
<td align="right">0.1106264</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Nevada</td>
<td align="left">Colorado</td>
<td align="right">0.1325795</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">New Mexico</td>
<td align="left">Colorado</td>
<td align="right">0.1588753</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Utah</td>
<td align="left">Colorado</td>
<td align="right">0.2025942</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Wyoming</td>
<td align="left">Colorado</td>
<td align="right">0.2231019</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Montana</td>
<td align="left">Colorado</td>
<td align="right">0.2879513</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">Missouri</td>
<td align="left">Colorado</td>
<td align="right">0.3124434</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">California</td>
<td align="left">Colorado</td>
<td align="right">0.3164550</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Michigan</td>
<td align="left">Colorado</td>
<td align="right">0.3176979</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">Idaho</td>
<td align="left">Colorado</td>
<td align="right">0.3293606</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
<p><strong>Top N Mixed without a Test List</strong> Don’t be concerned about the warning; I just wanted to let users know that it would use all the labels in the dataframe.</p>
<div class="sourceCode" id="cb29"><html><body><pre class="r"><span class="no">TOPN_CONTROL_LIST</span> <span class="kw">&lt;-</span> <span class="kw pkg">TestContR</span><span class="kw ns">::</span><span class="fu"><a href="../reference/topn_mixed.html">topn_mixed</a></span>(<span class="no">df</span>, <span class="kw">topN</span> <span class="kw">=</span> <span class="fl">10</span>)
<span class="co">#&gt; Warning in TestContR::topn_mixed(df, topN = 10): If no dataframe provided for the "test_list" parameter, will use all the labels in the dataset.  Otherwise, please provide a dataframe for the "test_list" parameter with 1, or N, Test group(s) or individual(s) label(s) in a column named "TEST."</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;       See documentation for topn_numeric's test_list parameter</span></pre></body></html></div>
<p><strong>Results of Top N selection without Test List:</strong></p>
<div class="sourceCode" id="cb30"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">TOPN_CONTROL_LIST</span>,<span class="fl">20</span>))</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">CONTROL</th>
<th align="left">TEST</th>
<th align="right">DIST_Q</th>
<th align="right">DIST_RANK</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Tennessee</td>
<td align="left">Alabama</td>
<td align="right">0.0657239</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Mississippi</td>
<td align="left">Alabama</td>
<td align="right">0.1193394</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Kentucky</td>
<td align="left">Alabama</td>
<td align="right">0.1748170</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Louisiana</td>
<td align="left">Alabama</td>
<td align="right">0.2676967</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">South Carolina</td>
<td align="left">Alabama</td>
<td align="right">0.2845265</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Georgia</td>
<td align="left">Alabama</td>
<td align="right">0.2982780</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">Arkansas</td>
<td align="left">Alabama</td>
<td align="right">0.3204231</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">Texas</td>
<td align="left">Alabama</td>
<td align="right">0.3267952</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Virginia</td>
<td align="left">Alabama</td>
<td align="right">0.3309542</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">Maryland</td>
<td align="left">Alabama</td>
<td align="right">0.3313442</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">California</td>
<td align="left">Alaska</td>
<td align="right">0.1868701</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Oregon</td>
<td align="left">Alaska</td>
<td align="right">0.2756384</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Washington</td>
<td align="left">Alaska</td>
<td align="right">0.3324305</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Nevada</td>
<td align="left">Alaska</td>
<td align="right">0.3536566</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Michigan</td>
<td align="left">Alaska</td>
<td align="right">0.3674951</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">New Mexico</td>
<td align="left">Alaska</td>
<td align="right">0.3705949</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">South Carolina</td>
<td align="left">Alaska</td>
<td align="right">0.3776660</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">Maryland</td>
<td align="left">Alaska</td>
<td align="right">0.3917168</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Colorado</td>
<td align="left">Alaska</td>
<td align="right">0.3973812</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">Arkansas</td>
<td align="left">Alaska</td>
<td align="right">0.4004365</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
<hr>
<hr>
</div>
<div id="conclusion" class="section level3">
<h3 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h3>
<p>Depending on your experiment, it may be prudent to add categorical metrics/variables that will help align your data better. In the above examples, when only using the numerical data Alabama’s nearest match is Louisiana, but once region is taken into consideration, Alabama’s nearest match is Tennessee. Now you have the tools to create a list of nearest matches for your data whether it is numeric or mixed.</p>
<hr>
<hr>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Alfredo G Marquez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
